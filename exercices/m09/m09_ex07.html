<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8"/>
		<script>
            "use strict";
            //Variables Globales
			let ctx;
			let c;

            
			//Fonctions
			function changeScale(){
				c.save();
				let x = document.getElementById("xScale").value;
				let y = document.getElementById("yScale").value;
				console.log(x+";"+y);
				c.scale(x,y);
				triangle();
				c.restore();
			}

			function appliquerTransition(){
				c.save();
				let x = document.getElementById("xTrans").value;
				let y = document.getElementById("yTrans").value;
				console.log(x+";"+y);
				c.translate(x,y);
				triangle();
				c.restore();
			}

			function degToRad(deg){
				return deg * Math.PI / 180;
			}

			function appliquerRot(){
				c.save();
				let angle = document.getElementById("angle").value;
				angle = degToRad(angle);
				c.rotate(angle);
				triangle();
				c.restore();
			}
			
			function init(){
				ctx = document.getElementById("canvasId");
				c = ctx.getContext("2d");
			}

			function rectangle(){
				c.beginPath();
				c.moveTo(50, 50);
				c.lineTo(50, 60);
				c.lineTo(80, 60);
				c.lineTo(80, 50);
				c.closePath();
				c.fillStyle="red";
				c.fill();

				maison();
			}

			function triangle(){
				c.beginPath();
				c.moveTo(140, 200);
				c.lineTo(120, 240);
				c.lineTo(160, 240);
				c.closePath();
				c.fillStyle="blue";
				c.fill();

				rectangle();
			}

			function maison(){
				c.beginPath();
				c.moveTo(350, 350);
				c.lineTo(390, 350);
				c.lineTo(390, 310);
				c.lineTo(370, 270);
				c.lineTo(350, 310);
				c.closePath();
				c.strokeStyle="green";
				c.stroke();
			}
            
            //Main

            
		</script>
    </head>
    <body onload="init();triangle();">
    
		<canvas id="canvasId" width="450" height="450" style="border: solid 1px black"></canvas>
		<br>

		<input id="xScale" style="width: 20px">
		<input id="yScale" style="width: 20px">
		<button id="applyScale" onclick="changeScale()">Change Scale</button>

		<input id="xTrans" style="width: 20px">
		<input id="yTrans" style="width: 20px">
		<button id="applyTrans" onclick="appliquerTransition()">Transition</button>
		<br>

		<input id="angle" style="width: 20px">
		<button id="applyRot" onclick="appliquerRot()">Transition</button>

	</body>
</html>