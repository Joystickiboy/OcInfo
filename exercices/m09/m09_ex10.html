
<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8"/>
		<script>
            "use strict";
            //Variables Globales
			let ctx;
			let c;
			var pale=20 ;
			let dAngle = 0;
			let angle = 0.05;

			let t = setInterval(dessiner, 20);

			let z = setInterval(move, 100);

			let width = 450;
			let height = 450;

			let x, y;
			x = 80;
			y = 180;

			let xG, yG;
			xG = x +20;
			yG = y -80;
            
            //Fonctions
			function init(){
				ctx = document.getElementById("canvasId");
				c = ctx.getContext("2d");
			}

			function move(){
				c.translate(1, 1);
			}

			function dessiner(){
				c.clearRect(0,0, width, height);

				c.save();
				dessinerMaison();
				c.restore();

				c.save();
				c.translate(xG, yG);
				c.rotate(dAngle);
				dessinerGirouette();
				c.restore();
				dAngle += angle;
			}
            
			function dessinerGirouette(){
				c.beginPath();
				c.moveTo(-(pale/2),-pale);
				c.lineTo((pale/2),pale);
				c.lineTo(-(pale/2),pale);
				c.lineTo((pale/2),-pale);
				c.lineTo(-(pale/2),-pale);
				c.moveTo(-pale,-(pale/2));
				c.lineTo(pale,(pale/2));
				c.lineTo(pale,-(pale/2));
				c.lineTo(-pale,(pale/2));
				c.closePath();
				c.fillStyle='yellow';
				c.fill();
				c.strokeStyle='orange';
				c.stroke();
			}

			function dessinerMaison(){
				c.clearRect(0,0,450,450);
				c.beginPath();
				c.moveTo(x, y);
				c.lineTo(x+40, y);
				c.lineTo(x+40, y-40);
				c.lineTo(x+20, y-80);
				c.lineTo(x, y-40);
				c.closePath();
				c.strokeStyle="green";
				c.fillStyle="green";
				c.fill();
				c.stroke();
			}
            //Main

            
		</script>
    </head>
    <body onload="init();">
    
		<canvas id="canvasId" width="450" height="450"></canvas>
		
	</body>
</html>